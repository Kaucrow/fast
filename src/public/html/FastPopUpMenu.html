<html>
    <head>
        <script type="module" src="../js/com/Fast.js"></script>
    </head>
    <body>
        <script>
            let fastInit = async () => {
                let popupMenu = await fast.createInstance("FastPopUpMenu", {
                    id: "main-popup",
                    style: {
                        position: "absolute",
                        backgroundColor: "#ffffff",
                    }
                });
                popupMenu.built = async () => {
                    popupMenu.addItem('Save', '../images/icons/save.svg', () => alert('Save selected'));
                    popupMenu.addItem(
                        'Share...',
                        '../images/icons/exit.svg',
                        '',
                        [
                            {
                                text: 'Profile',
                                imgSrc: '../images/icons/user.svg',
                                callback: () => alert('Shared via Profile')
                            },
                            {
                                text: 'Group',
                                imgSrc: '../images/icons/users.svg',
                                callback: () => alert('Shared via Group')
                            },
                            {
                                text: 'More...',
                                imgSrc: '../images/icons/plus.svg',
                                callback: null,
                                subItems: [
                                    {
                                        text: 'Social Media',
                                        imgSrc: '../images/icons/users.svg',
                                        callback: () => alert('Shared via Social Media'),
                                    }
                                ]
                            }
                        ]
                    );
                    popupMenu.addItem('Options', '../images/icons/config.svg', () => alert('Options selected'));
                };
                popupMenu.addToBody();

                document.addEventListener('contextmenu', (event) => {
                    event.preventDefault();
                    popupMenu.show(event);
                });

                document.addEventListener('click', (event) => {
                    popupMenu.hide();
                });
            };
        </script>
    </body>
</html>
